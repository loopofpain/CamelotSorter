<!-- https://dev.to/dcodeyt/creating-beautiful-html-tables-with-css-428l -->

<table class="styled-table">
  <thead>
    <tr>
      <th [id]="column.cssId" *ngFor="let column of tableColumns" (dragstart)="tableColumnOnDragStart($event, column)"
        (dragend)="tableColumnOnDragEnd($event, column)" (dragover)="tableColumnOnDragOver($event)"
        (drop)="tableColumnOnDrop($event)" draggable="true">{{column.columnName}}</th>
    </tr>
  </thead>

  <tbody cdkDropList (cdkDropListDropped)="dropSuperTableRowColumn($event)">
    <tr  cdkDrag cdkDragLockAxis="y" [id]="row.cssId" *ngFor="let row of tableRowsToDisplay;let indexOfelement=index;">
      <td  [ngClass]="{'column-locked' : isRowLocked(row)}" cdkDragHandle [id]="columnsInRow.cssId"
        *ngFor="let columnsInRow of row.columns">

        <span *ngIf="columnsInRow.type !== 'boolean' && columnsInRow.type !== 'actions' && !canEdit(row)">{{columnsInRow.value}}</span>
        <span *ngIf="columnsInRow.type !== 'boolean' && columnsInRow.type !== 'actions' && canEdit(row)">
          <input [(ngModel)]="columnsInRow.inputValue">
        </span>

        <span *ngIf="columnsInRow.type === 'actions'">
          <input *ngIf="!row.isEdit" type="checkbox" [(ngModel)]="row.isFixed">

          <input *ngIf="!row.isFixed" type="checkbox" [(ngModel)]="row.isEdit">
        </span>
      </td>
    </tr>
  </tbody>
  <tfoot>
    <tr >
      <td [attr.colspan]="getColSpan()">
        <div class="toolbar">
          <button (click)="getResult()">Log JSON</button>
          <button (click)="addRow()">Add Row</button>
        </div>
      </td>
    </tr>
  </tfoot>
</table>

